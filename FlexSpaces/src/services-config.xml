<?xml version="1.0" encoding="UTF-8"?>
<services-config>
    <!-- This configuration file is intended for LiveCycle - LiveCycle Data Services Integration.  It has been configured to support this -->
    <!-- Please do not modify any setting that are not explicitly marked as modifiable under LiveCycle - Flex-Remoting Integration -->
    <services>

        <service id="proxy-service" class="flex.messaging.services.HTTPProxyService" messageTypes="flex.messaging.messages.HTTPMessage">

            <properties>
                <connection-manager>
                    <max-total-connections>100</max-total-connections>
                    <default-max-connections-per-host>2</default-max-connections-per-host>
                </connection-manager>
                <allow-lax-ssl>true</allow-lax-ssl>
            </properties>

            <adapters>
                <adapter-definition id="http-proxy" class="flex.messaging.services.http.HTTPProxyAdapter" default="true"/>
            </adapters>

            <!-- LiveCycle - Flex-Remoting Integration Configurable Setting -->
            <!-- You may add/remove channels and modify the order of these channels -->
            <default-channels>
                <channel ref="remoting-http"/>
            </default-channels>

            <!-- LiveCycle - Flex-Remoting Integration Configurable Setting -->
            <!-- you may add additional dynamic-urls to the DefaultHTTP and DefaultHTTPS destinations -->
            <!-- you may add destinations that use HTTP or SOAP proxy adapter -->
            <destination id="DefaultHTTP">
                <properties>
                    <dynamic-url>http://localhost:8080/contentspace/service/*</dynamic-url>
                </properties>
            </destination>

        </service>

        <!-- This service creates Flex destinations for each "Remoting" and "Data Management Services" endpoint when Live Cycle starts up-->
        <service id="lc-service" class="com.adobe.idp.dsc.provider.impl.lcr.AdobeLCBootstrap"/>
    </services>

    <!-- This security constraint and login command combine to causes all authentication and authorization to be performed by LiveCycle -->
    <!-- and not the Application Server-->
    <security>
        <login-command class="com.adobe.idp.dsc.provider.impl.lcr.RemotingLoginCommand" server="all"/>
    </security>

    <!-- The uri's of these channels may be modified, but all other settings should remain as they are-->
    <channels>
        <channel-definition id="remoting-http" class="mx.messaging.channels.HTTPChannel">
            <endpoint uri="http://localhost:8080/remoting/messagebroker/http" class="flex.messaging.endpoints.HTTPEndpoint"/>
            <properties>
                <polling-enabled>false</polling-enabled>
                <serialization>
                    <instantiate-types>false</instantiate-types>
                </serialization>
            </properties>
        </channel-definition>             

    </channels>

    <!-- LiveCycle - Flex-Remoting Integration Configurable Setting -->
    <!-- You may customize Logging settings as needed-->
    <logging>
        <!-- You may also use flex.messaging.log.ServletLogTarget -->
        <target class="flex.messaging.log.ConsoleTarget" level="Debug">
            <properties>
                <prefix>[LCDS] </prefix>
                <includeDate>false</includeDate>
                <includeTime>false</includeTime>
                <includeLevel>true</includeLevel>
                <includeCategory>false</includeCategory>
            </properties>
            <filters>
                <pattern>Message.*</pattern>
                <pattern>DataService.*</pattern>
                <pattern>Configuration</pattern>
                <pattern>Service.Cluster</pattern>
            </filters>
        </target>
    </logging>

    <!-- Currently, only English is supported. -->
    <system>
        <locale>
            <default-locale>en</default-locale>
        </locale>
    </system>
    

</services-config>
